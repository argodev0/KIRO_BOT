{
  "timestamp": "2025-08-29T03:48:15.664Z",
  "environment": {
    "nodeEnv": "test",
    "tradingSimulationOnly": "true",
    "paperTradingMode": "true"
  },
  "summary": {
    "totalTests": 5,
    "passed": 0,
    "failed": 5,
    "skipped": 0,
    "successRate": "0.0%",
    "totalDuration": 0
  },
  "testResults": [
    {
      "testFile": "PaperTradingSafetyValidation.test.ts",
      "status": "failed",
      "duration": 0,
      "errors": [
        "Command failed: npx jest --testPathPattern=\"PaperTradingSafetyValidation.test.ts\" --verbose --detectOpenHandles --forceExit\nFAIL src/__tests__/integration/PaperTradingSafetyValidation.test.ts\n  ‚óè Test suite failed to run\n\n    \u001b[96msrc/__tests__/integration/PaperTradingSafetyValidation.test.ts\u001b[0m:\u001b[93m139\u001b[0m:\u001b[93m81\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type '{ userId: string; symbol: string; side: \"buy\"; type: \"market\"; quantity: number; price: number; }' is not assignable to parameter of type 'OrderRequest'.\n      Property 'exchange' is missing in type '{ userId: string; symbol: string; side: \"buy\"; type: \"market\"; quantity: number; price: number; }' but required in type 'OrderRequest'.\n\n    \u001b[7m139\u001b[0m       const simulatedTrade = await tradeSimulationEngine.simulateOrderExecution(tradeRequest);\n    \u001b[7m   \u001b[0m \u001b[91m                                                                                ~~~~~~~~~~~~\u001b[0m\n\n      \u001b[96msrc/types/trading.ts\u001b[0m:\u001b[93m64\u001b[0m:\u001b[93m3\u001b[0m\n        \u001b[7m64\u001b[0m   exchange: string;\n        \u001b[7m  \u001b[0m \u001b[96m  ~~~~~~~~\u001b[0m\n        'exchange' is declared here.\n    \u001b[96msrc/__tests__/integration/PaperTradingSafetyValidation.test.ts\u001b[0m:\u001b[93m142\u001b[0m:\u001b[93m29\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'executedQuantity' does not exist on type 'SimulatedOrderResponse'.\n\n    \u001b[7m142\u001b[0m       expect(simulatedTrade.executedQuantity).toBe(0.001);\n    \u001b[7m   \u001b[0m \u001b[91m                            ~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/PaperTradingSafetyValidation.test.ts\u001b[0m:\u001b[93m143\u001b[0m:\u001b[93m29\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'executedPrice' does not exist on type 'SimulatedOrderResponse'.\n\n    \u001b[7m143\u001b[0m       expect(simulatedTrade.executedPrice).toBeCloseTo(50000, 0);\n    \u001b[7m   \u001b[0m \u001b[91m                            ~~~~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/PaperTradingSafetyValidation.test.ts\u001b[0m:\u001b[93m144\u001b[0m:\u001b[93m29\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'fees' does not exist on type 'SimulatedOrderResponse'.\n\n    \u001b[7m144\u001b[0m       expect(simulatedTrade.fees).toBeGreaterThan(0);\n    \u001b[7m   \u001b[0m \u001b[91m                            ~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/PaperTradingSafetyValidation.test.ts\u001b[0m:\u001b[93m145\u001b[0m:\u001b[93m29\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'fees' does not exist on type 'SimulatedOrderResponse'.\n\n    \u001b[7m145\u001b[0m       expect(simulatedTrade.fees).toBeLessThan(1); // Reasonable fee\n    \u001b[7m   \u001b[0m \u001b[91m                            ~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/PaperTradingSafetyValidation.test.ts\u001b[0m:\u001b[93m158\u001b[0m:\u001b[93m81\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type '{ userId: string; symbol: string; side: \"buy\"; type: \"market\"; quantity: number; price: number; }' is not assignable to parameter of type 'OrderRequest'.\n      Property 'exchange' is missing in type '{ userId: string; symbol: string; side: \"buy\"; type: \"market\"; quantity: number; price: number; }' but required in type 'OrderRequest'.\n\n    \u001b[7m158\u001b[0m       const simulatedTrade = await tradeSimulationEngine.simulateOrderExecution(tradeRequest);\n    \u001b[7m   \u001b[0m \u001b[91m                                                                                ~~~~~~~~~~~~\u001b[0m\n\n      \u001b[96msrc/types/trading.ts\u001b[0m:\u001b[93m64\u001b[0m:\u001b[93m3\u001b[0m\n        \u001b[7m64\u001b[0m   exchange: string;\n        \u001b[7m  \u001b[0m \u001b[96m  ~~~~~~~~\u001b[0m\n        'exchange' is declared here.\n    \u001b[96msrc/__tests__/integration/PaperTradingSafetyValidation.test.ts\u001b[0m:\u001b[93m162\u001b[0m:\u001b[93m38\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'executedPrice' does not exist on type 'SimulatedOrderResponse'.\n\n    \u001b[7m162\u001b[0m       expect(Math.abs(simulatedTrade.executedPrice - 50000)).toBeGreaterThan(0);\n    \u001b[7m   \u001b[0m \u001b[91m                                     ~~~~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/PaperTradingSafetyValidation.test.ts\u001b[0m:\u001b[93m175\u001b[0m:\u001b[93m81\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type '{ userId: string; symbol: string; side: \"buy\"; type: \"market\"; quantity: number; price: number; }' is not assignable to parameter of type 'OrderRequest'.\n      Property 'exchange' is missing in type '{ userId: string; symbol: string; side: \"buy\"; type: \"market\"; quantity: number; price: number; }' but required in type 'OrderRequest'.\n\n    \u001b[7m175\u001b[0m       const simulatedTrade = await tradeSimulationEngine.simulateOrderExecution(tradeRequest);\n    \u001b[7m   \u001b[0m \u001b[91m                                                                                ~~~~~~~~~~~~\u001b[0m\n\n      \u001b[96msrc/types/trading.ts\u001b[0m:\u001b[93m64\u001b[0m:\u001b[93m3\u001b[0m\n        \u001b[7m64\u001b[0m   exchange: string;\n        \u001b[7m  \u001b[0m \u001b[96m  ~~~~~~~~\u001b[0m\n        'exchange' is declared here.\n    \u001b[96msrc/__tests__/integration/PaperTradingSafetyValidation.test.ts\u001b[0m:\u001b[93m178\u001b[0m:\u001b[93m29\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'rejectReason' does not exist on type 'SimulatedOrderResponse'.\n\n    \u001b[7m178\u001b[0m       expect(simulatedTrade.rejectReason).toContain('Insufficient');\n    \u001b[7m   \u001b[0m \u001b[91m                            ~~~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/PaperTradingSafetyValidation.test.ts\u001b[0m:\u001b[93m190\u001b[0m:\u001b[93m67\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2554: \u001b[0mExpected 1 arguments, but got 2.\n\n    \u001b[7m190\u001b[0m       virtualPortfolioManager.initializeUserPortfolio(testUserId, 10000);\n    \u001b[7m   \u001b[0m \u001b[91m                                                                  ~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/PaperTradingSafetyValidation.test.ts\u001b[0m:\u001b[93m193\u001b[0m:\u001b[93m25\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'totalValue' does not exist on type 'PortfolioSummary'.\n\n    \u001b[7m193\u001b[0m       expect(portfolio?.totalValue).toBeGreaterThan(0);\n    \u001b[7m   \u001b[0m \u001b[91m                        ~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/PaperTradingSafetyValidation.test.ts\u001b[0m:\u001b[93m194\u001b[0m:\u001b[93m25\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'unrealizedPnL' does not exist on type 'PortfolioSummary'.\n\n    \u001b[7m194\u001b[0m       expect(portfolio?.unrealizedPnL).toBe(0);\n    \u001b[7m   \u001b[0m \u001b[91m                        ~~~~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/PaperTradingSafetyValidation.test.ts\u001b[0m:\u001b[93m195\u001b[0m:\u001b[93m25\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'realizedPnL' does not exist on type 'PortfolioSummary'.\n\n    \u001b[7m195\u001b[0m       expect(portfolio?.realizedPnL).toBe(0);\n    \u001b[7m   \u001b[0m \u001b[91m                        ~~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/PaperTradingSafetyValidation.test.ts\u001b[0m:\u001b[93m199\u001b[0m:\u001b[93m67\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2554: \u001b[0mExpected 1 arguments, but got 2.\n\n    \u001b[7m199\u001b[0m       virtualPortfolioManager.initializeUserPortfolio(testUserId, 10000);\n    \u001b[7m   \u001b[0m \u001b[91m                                                                  ~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/PaperTradingSafetyValidation.test.ts\u001b[0m:\u001b[93m210\u001b[0m:\u001b[93m81\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type '{ userId: string; symbol: string; side: \"buy\"; type: \"market\"; quantity: number; price: number; }' is not assignable to parameter of type 'OrderRequest'.\n      Property 'exchange' is missing in type '{ userId: string; symbol: string; side: \"buy\"; type: \"market\"; quantity: number; price: number; }' but required in type 'OrderRequest'.\n\n    \u001b[7m210\u001b[0m       const simulatedTrade = await tradeSimulationEngine.simulateOrderExecution(tradeRequest);\n    \u001b[7m   \u001b[0m \u001b[91m                                                                                ~~~~~~~~~~~~\u001b[0m\n\n      \u001b[96msrc/types/trading.ts\u001b[0m:\u001b[93m64\u001b[0m:\u001b[93m3\u001b[0m\n        \u001b[7m64\u001b[0m   exchange: string;\n        \u001b[7m  \u001b[0m \u001b[96m  ~~~~~~~~\u001b[0m\n        'exchange' is declared here.\n    \u001b[96msrc/__tests__/integration/PaperTradingSafetyValidation.test.ts\u001b[0m:\u001b[93m214\u001b[0m:\u001b[93m31\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'updatePortfolioWithTrade' does not exist on type 'VirtualPortfolioManager'.\n\n    \u001b[7m214\u001b[0m       virtualPortfolioManager.updatePortfolioWithTrade(testUserId, {\n    \u001b[7m   \u001b[0m \u001b[91m                              ~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/PaperTradingSafetyValidation.test.ts\u001b[0m:\u001b[93m219\u001b[0m:\u001b[93m29\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'fees' does not exist on type 'SimulatedOrderResponse'.\n\n    \u001b[7m219\u001b[0m         fee: simulatedTrade.fees,\n    \u001b[7m   \u001b[0m \u001b[91m                            ~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/PaperTradingSafetyValidation.test.ts\u001b[0m:\u001b[93m224\u001b[0m:\u001b[93m25\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'totalValue' does not exist on type 'PortfolioSummary'.\n\n    \u001b[7m224\u001b[0m       expect(portfolio?.totalValue).toBeLessThan(10000); // Should be less due to fees\n    \u001b[7m   \u001b[0m \u001b[91m                        ~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/PaperTradingSafetyValidation.test.ts\u001b[0m:\u001b[93m228\u001b[0m:\u001b[93m67\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2554: \u001b[0mExpected 1 arguments, but got 2.\n\n    \u001b[7m228\u001b[0m       virtualPortfolioManager.initializeUserPortfolio(testUserId, 10000);\n    \u001b[7m   \u001b[0m \u001b[91m                                                                  ~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/PaperTradingSafetyValidation.test.ts\u001b[0m:\u001b[93m240\u001b[0m:\u001b[93m76\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type '{ userId: string; symbol: string; side: \"buy\"; type: \"market\"; quantity: number; price: number; }' is not assignable to parameter of type 'OrderRequest'.\n      Property 'exchange' is missing in type '{ userId: string; symbol: string; side: \"buy\"; type: \"market\"; quantity: number; price: number; }' but required in type 'OrderRequest'.\n\n    \u001b[7m240\u001b[0m       const buyResult = await tradeSimulationEngine.simulateOrderExecution(buyTrade);\n    \u001b[7m   \u001b[0m \u001b[91m                                                                           ~~~~~~~~\u001b[0m\n\n      \u001b[96msrc/types/trading.ts\u001b[0m:\u001b[93m64\u001b[0m:\u001b[93m3\u001b[0m\n        \u001b[7m64\u001b[0m   exchange: string;\n        \u001b[7m  \u001b[0m \u001b[96m  ~~~~~~~~\u001b[0m\n        'exchange' is declared here.\n    \u001b[96msrc/__tests__/integration/PaperTradingSafetyValidation.test.ts\u001b[0m:\u001b[93m241\u001b[0m:\u001b[93m31\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'updatePortfolioWithTrade' does not exist on type 'VirtualPortfolioManager'.\n\n    \u001b[7m241\u001b[0m       virtualPortfolioManager.updatePortfolioWithTrade(testUserId, {\n    \u001b[7m   \u001b[0m \u001b[91m                              ~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/PaperTradingSafetyValidation.test.ts\u001b[0m:\u001b[93m246\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'fees' does not exist on type 'SimulatedOrderResponse'.\n\n    \u001b[7m246\u001b[0m         fee: buyResult.fees,\n    \u001b[7m   \u001b[0m \u001b[91m                       ~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/PaperTradingSafetyValidation.test.ts\u001b[0m:\u001b[93m260\u001b[0m:\u001b[93m77\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type '{ userId: string; symbol: string; side: \"sell\"; type: \"market\"; quantity: number; price: number; }' is not assignable to parameter of type 'OrderRequest'.\n      Property 'exchange' is missing in type '{ userId: string; symbol: string; side: \"sell\"; type: \"market\"; quantity: number; price: number; }' but required in type 'OrderRequest'.\n\n    \u001b[7m260\u001b[0m       const sellResult = await tradeSimulationEngine.simulateOrderExecution(sellTrade);\n    \u001b[7m   \u001b[0m \u001b[91m                                                                            ~~~~~~~~~\u001b[0m\n\n      \u001b[96msrc/types/trading.ts\u001b[0m:\u001b[93m64\u001b[0m:\u001b[93m3\u001b[0m\n        \u001b[7m64\u001b[0m   exchange: string;\n        \u001b[7m  \u001b[0m \u001b[96m  ~~~~~~~~\u001b[0m\n        'exchange' is declared here.\n    \u001b[96msrc/__tests__/integration/PaperTradingSafetyValidation.test.ts\u001b[0m:\u001b[93m261\u001b[0m:\u001b[93m31\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'updatePortfolioWithTrade' does not exist on type 'VirtualPortfolioManager'.\n\n    \u001b[7m261\u001b[0m       virtualPortfolioManager.updatePortfolioWithTrade(testUserId, {\n    \u001b[7m   \u001b[0m \u001b[91m                              ~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/PaperTradingSafetyValidation.test.ts\u001b[0m:\u001b[93m266\u001b[0m:\u001b[93m25\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'fees' does not exist on type 'SimulatedOrderResponse'.\n\n    \u001b[7m266\u001b[0m         fee: sellResult.fees,\n    \u001b[7m   \u001b[0m \u001b[91m                        ~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/PaperTradingSafetyValidation.test.ts\u001b[0m:\u001b[93m271\u001b[0m:\u001b[93m25\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'realizedPnL' does not exist on type 'PortfolioSummary'.\n\n    \u001b[7m271\u001b[0m       expect(portfolio?.realizedPnL).toBeGreaterThan(0); // Should have profit\n    \u001b[7m   \u001b[0m \u001b[91m                        ~~~~~~~~~~~\u001b[0m\n\nTest Suites: 1 failed, 1 total\nTests:       0 total\nSnapshots:   0 total\nTime:        17.242 s\nRan all test suites matching /PaperTradingSafetyValidation.test.ts/i.\n"
      ]
    },
    {
      "testFile": "APIEndpointsValidation.test.ts",
      "status": "failed",
      "duration": 0,
      "errors": [
        "Command failed: npx jest --testPathPattern=\"APIEndpointsValidation.test.ts\" --verbose --detectOpenHandles --forceExit\nFAIL src/__tests__/integration/APIEndpointsValidation.test.ts\n  ‚óè Test suite failed to run\n\n    \u001b[96msrc/index.ts\u001b[0m:\u001b[93m869\u001b[0m:\u001b[93m21\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2304: \u001b[0mCannot find name 'cacheManager'.\n\n    \u001b[7m869\u001b[0m       cacheManager: cacheManager,\n    \u001b[7m   \u001b[0m \u001b[91m                    ~~~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/index.ts\u001b[0m:\u001b[93m870\u001b[0m:\u001b[93m24\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2304: \u001b[0mCannot find name 'exchangeManager'.\n\n    \u001b[7m870\u001b[0m       exchangeManager: exchangeManager,\n    \u001b[7m   \u001b[0m \u001b[91m                       ~~~~~~~~~~~~~~~\u001b[0m\n\nTest Suites: 1 failed, 1 total\nTests:       0 total\nSnapshots:   0 total\nTime:        17.828 s\nRan all test suites matching /APIEndpointsValidation.test.ts/i.\n"
      ]
    },
    {
      "testFile": "WebSocketFunctionalityValidation.test.ts",
      "status": "failed",
      "duration": 0,
      "errors": [
        "Command failed: npx jest --testPathPattern=\"WebSocketFunctionalityValidation.test.ts\" --verbose --detectOpenHandles --forceExit\nFAIL src/__tests__/integration/WebSocketFunctionalityValidation.test.ts\n  ‚óè Test suite failed to run\n\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m30\u001b[0m:\u001b[93m7\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2353: \u001b[0mObject literal may only specify known properties, and 'port' does not exist in type 'Server<typeof IncomingMessage, typeof ServerResponse>'.\n\n    \u001b[7m30\u001b[0m       port: 8081,\n    \u001b[7m  \u001b[0m \u001b[91m      ~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m35\u001b[0m:\u001b[93m22\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2554: \u001b[0mExpected 2 arguments, but got 1.\n\n    \u001b[7m 35\u001b[0m     liveDataServer = new LiveDataWebSocketServer({\n    \u001b[7m   \u001b[0m \u001b[91m                     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[7m 36\u001b[0m       port: 8082,\n    \u001b[7m   \u001b[0m \u001b[91m~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[7m...\u001b[0m \n    \u001b[7m 38\u001b[0m       maxConnections: 200\n    \u001b[7m   \u001b[0m \u001b[91m~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[7m 39\u001b[0m     });\n    \u001b[7m   \u001b[0m \u001b[91m~~~~~~\u001b[0m\n\n      \u001b[96msrc/services/LiveDataWebSocketServer.ts\u001b[0m:\u001b[93m34\u001b[0m:\u001b[93m39\u001b[0m\n        \u001b[7m34\u001b[0m   constructor(httpServer: HttpServer, liveDataService: LiveMarketDataService) {\n        \u001b[7m  \u001b[0m \u001b[96m                                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\n        An argument for 'liveDataService' was not provided.\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m42\u001b[0m:\u001b[93m7\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2353: \u001b[0mObject literal may only specify known properties, and 'apiKey' does not exist in type 'BinanceWebSocketConfig'.\n\n    \u001b[7m42\u001b[0m       apiKey: 'test_key',\n    \u001b[7m  \u001b[0m \u001b[91m      ~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m48\u001b[0m:\u001b[93m7\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2353: \u001b[0mObject literal may only specify known properties, and 'apiKey' does not exist in type 'KuCoinWebSocketConfig'.\n\n    \u001b[7m48\u001b[0m       apiKey: 'test_key',\n    \u001b[7m  \u001b[0m \u001b[91m      ~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m58\u001b[0m:\u001b[93m22\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'stop' does not exist on type 'WebSocketServer'.\n\n    \u001b[7m58\u001b[0m       await wsServer.stop();\n    \u001b[7m  \u001b[0m \u001b[91m                     ~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m64\u001b[0m:\u001b[93m28\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'disconnect' does not exist on type 'BinanceWebSocketService'.\n\n    \u001b[7m64\u001b[0m       await binanceService.disconnect();\n    \u001b[7m  \u001b[0m \u001b[91m                           ~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m67\u001b[0m:\u001b[93m27\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'disconnect' does not exist on type 'KuCoinWebSocketService'.\n\n    \u001b[7m67\u001b[0m       await kucoinService.disconnect();\n    \u001b[7m  \u001b[0m \u001b[91m                          ~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m73\u001b[0m:\u001b[93m46\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2769: \u001b[0mNo overload matches this call.\n      Overload 1 of 3, '(object: WebSocketServer, method: never): SpyInstance<never, never, any>', gave the following error.\n        Argument of type '\"start\"' is not assignable to parameter of type 'never'.\n      Overload 2 of 3, '(object: WebSocketServer, method: keyof WebSocketServer): SpyInstance<number | boolean | void | WebSocketServer | Promise<void> | ... 7 more ... | (string | symbol)[], [] | ... 25 more ... | [eventName: ...], any>', gave the following error.\n        Argument of type '\"start\"' is not assignable to parameter of type 'keyof WebSocketServer'.\n\n    \u001b[7m73\u001b[0m       const mockStart = jest.spyOn(wsServer, 'start').mockResolvedValue();\n    \u001b[7m  \u001b[0m \u001b[91m                                             ~~~~~~~\u001b[0m\n\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m73\u001b[0m:\u001b[93m55\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'mockResolvedValue' does not exist on type 'never'.\n\n    \u001b[7m73\u001b[0m       const mockStart = jest.spyOn(wsServer, 'start').mockResolvedValue();\n    \u001b[7m  \u001b[0m \u001b[91m                                                      ~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m75\u001b[0m:\u001b[93m22\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'start' does not exist on type 'WebSocketServer'.\n\n    \u001b[7m75\u001b[0m       await wsServer.start();\n    \u001b[7m  \u001b[0m \u001b[91m                     ~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m82\u001b[0m:\u001b[93m23\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'getOptions' does not exist on type 'WebSocketServer'.\n\n    \u001b[7m82\u001b[0m       expect(wsServer.getOptions()).toEqual(\n    \u001b[7m  \u001b[0m \u001b[91m                      ~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m103\u001b[0m:\u001b[93m46\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2769: \u001b[0mNo overload matches this call.\n      Overload 1 of 3, '(object: WebSocketServer, method: never): SpyInstance<never, never, any>', gave the following error.\n        Argument of type '\"start\"' is not assignable to parameter of type 'never'.\n      Overload 2 of 3, '(object: WebSocketServer, method: keyof WebSocketServer): SpyInstance<number | boolean | void | WebSocketServer | Promise<void> | ... 7 more ... | (string | symbol)[], [] | ... 25 more ... | [eventName: ...], any>', gave the following error.\n        Argument of type '\"start\"' is not assignable to parameter of type 'keyof WebSocketServer'.\n\n    \u001b[7m103\u001b[0m       const mockStart = jest.spyOn(wsServer, 'start').mockResolvedValue();\n    \u001b[7m   \u001b[0m \u001b[91m                                             ~~~~~~~\u001b[0m\n\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m103\u001b[0m:\u001b[93m55\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'mockResolvedValue' does not exist on type 'never'.\n\n    \u001b[7m103\u001b[0m       const mockStart = jest.spyOn(wsServer, 'start').mockResolvedValue();\n    \u001b[7m   \u001b[0m \u001b[91m                                                      ~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m106\u001b[0m:\u001b[93m66\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2353: \u001b[0mObject literal may only specify known properties, and 'uniqueUsers' does not exist in type '{ total: number; authenticated: number; anonymous: number; healthy: number; unhealthy: number; stale: number; }'.\n\n    \u001b[7m106\u001b[0m         connections: { total: 1, authenticated: 0, anonymous: 1, uniqueUsers: 0 },\n    \u001b[7m   \u001b[0m \u001b[91m                                                                 ~~~~~~~~~~~\u001b[0m\n\n      \u001b[96msrc/services/WebSocketServer.ts\u001b[0m:\u001b[93m1030\u001b[0m:\u001b[93m7\u001b[0m\n        \u001b[7m1030\u001b[0m       connections: {\n        \u001b[7m    \u001b[0m \u001b[96m      ~~~~~~~~~~~~~~\u001b[0m\n        \u001b[7m1031\u001b[0m         total: this.connectionPool.activeConnections.size,\n        \u001b[7m    \u001b[0m \u001b[96m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\n        \u001b[7m ...\u001b[0m \n        \u001b[7m1036\u001b[0m         stale: stabilityMetrics.staleConnections\n        \u001b[7m    \u001b[0m \u001b[96m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\n        \u001b[7m1037\u001b[0m       },\n        \u001b[7m    \u001b[0m \u001b[96m~~~~~~~\u001b[0m\n        The expected type comes from property 'connections' which is declared here on type '{ server: { isShuttingDown: boolean; uptime: number; maxConnections: number; }; connections: { total: number; authenticated: number; anonymous: number; healthy: number; unhealthy: number; stale: number; }; ... 4 more ...; connections_detail: { ...; }[]; }'\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m108\u001b[0m:\u001b[93m9\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2741: \u001b[0mProperty 'errorRate' is missing in type '{ totalMessagesReceived: number; totalMessagesSent: number; averageConnectionTime: number; rateLimiters: number; }' but required in type '{ totalMessagesReceived: number; totalMessagesSent: number; averageConnectionTime: number; rateLimiters: number; errorRate: number; }'.\n\n    \u001b[7m108\u001b[0m         performance: { totalMessagesReceived: 0, totalMessagesSent: 0, averageConnectionTime: 0, rateLimiters: 0 },\n    \u001b[7m   \u001b[0m \u001b[91m        ~~~~~~~~~~~\u001b[0m\n\n      \u001b[96msrc/services/WebSocketServer.ts\u001b[0m:\u001b[93m1051\u001b[0m:\u001b[93m9\u001b[0m\n        \u001b[7m1051\u001b[0m         errorRate: stabilityMetrics.errorRate\n        \u001b[7m    \u001b[0m \u001b[96m        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\n        'errorRate' is declared here.\n      \u001b[96msrc/services/WebSocketServer.ts\u001b[0m:\u001b[93m1045\u001b[0m:\u001b[93m7\u001b[0m\n        \u001b[7m1045\u001b[0m       performance: {\n        \u001b[7m    \u001b[0m \u001b[96m      ~~~~~~~~~~~~~~\u001b[0m\n        \u001b[7m1046\u001b[0m         totalMessagesReceived: connectionMetrics.reduce((sum, c) => sum + c.messagesReceived, 0),\n        \u001b[7m    \u001b[0m \u001b[96m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\n        \u001b[7m ...\u001b[0m \n        \u001b[7m1051\u001b[0m         errorRate: stabilityMetrics.errorRate\n        \u001b[7m    \u001b[0m \u001b[96m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\n        \u001b[7m1052\u001b[0m       },\n        \u001b[7m    \u001b[0m \u001b[96m~~~~~~~\u001b[0m\n        The expected type comes from property 'performance' which is declared here on type '{ server: { isShuttingDown: boolean; uptime: number; maxConnections: number; }; connections: { total: number; authenticated: number; anonymous: number; healthy: number; unhealthy: number; stale: number; }; ... 4 more ...; connections_detail: { ...; }[]; }'\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m112\u001b[0m:\u001b[93m22\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'start' does not exist on type 'WebSocketServer'.\n\n    \u001b[7m112\u001b[0m       await wsServer.start();\n    \u001b[7m   \u001b[0m \u001b[91m                     ~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m123\u001b[0m:\u001b[93m63\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2769: \u001b[0mNo overload matches this call.\n      Overload 1 of 3, '(object: WebSocketServer, method: never): SpyInstance<never, never, any>', gave the following error.\n        Argument of type '\"authenticateConnection\"' is not assignable to parameter of type 'never'.\n      Overload 2 of 3, '(object: WebSocketServer, method: keyof WebSocketServer): SpyInstance<number | boolean | void | WebSocketServer | Promise<void> | ... 7 more ... | (string | symbol)[], [] | ... 25 more ... | [eventName: ...], any>', gave the following error.\n        Argument of type '\"authenticateConnection\"' is not assignable to parameter of type 'keyof WebSocketServer'.\n\n    \u001b[7m123\u001b[0m       const mockAuthenticateConnection = jest.spyOn(wsServer, 'authenticateConnection')\n    \u001b[7m   \u001b[0m \u001b[91m                                                              ~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\n\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m124\u001b[0m:\u001b[93m10\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'mockResolvedValue' does not exist on type 'never'.\n\n    \u001b[7m124\u001b[0m         .mockResolvedValue({ success: true, user: { id: 'test-user', username: 'testuser' } });\n    \u001b[7m   \u001b[0m \u001b[91m         ~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m126\u001b[0m:\u001b[93m41\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'authenticateConnection' does not exist on type 'WebSocketServer'.\n\n    \u001b[7m126\u001b[0m       const authResult = await wsServer.authenticateConnection('valid-token');\n    \u001b[7m   \u001b[0m \u001b[91m                                        ~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m135\u001b[0m:\u001b[93m63\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2769: \u001b[0mNo overload matches this call.\n      Overload 1 of 3, '(object: WebSocketServer, method: never): SpyInstance<never, never, any>', gave the following error.\n        Argument of type '\"authenticateConnection\"' is not assignable to parameter of type 'never'.\n      Overload 2 of 3, '(object: WebSocketServer, method: keyof WebSocketServer): SpyInstance<number | boolean | void | WebSocketServer | Promise<void> | ... 7 more ... | (string | symbol)[], [] | ... 25 more ... | [eventName: ...], any>', gave the following error.\n        Argument of type '\"authenticateConnection\"' is not assignable to parameter of type 'keyof WebSocketServer'.\n\n    \u001b[7m135\u001b[0m       const mockAuthenticateConnection = jest.spyOn(wsServer, 'authenticateConnection')\n    \u001b[7m   \u001b[0m \u001b[91m                                                              ~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\n\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m136\u001b[0m:\u001b[93m10\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'mockResolvedValue' does not exist on type 'never'.\n\n    \u001b[7m136\u001b[0m         .mockResolvedValue({ success: false, error: 'Invalid token' });\n    \u001b[7m   \u001b[0m \u001b[91m         ~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m138\u001b[0m:\u001b[93m41\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'authenticateConnection' does not exist on type 'WebSocketServer'.\n\n    \u001b[7m138\u001b[0m       const authResult = await wsServer.authenticateConnection('invalid-token');\n    \u001b[7m   \u001b[0m \u001b[91m                                        ~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m148\u001b[0m:\u001b[93m9\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2353: \u001b[0mObject literal may only specify known properties, and 'port' does not exist in type 'Server<typeof IncomingMessage, typeof ServerResponse>'.\n\n    \u001b[7m148\u001b[0m         port: 8083,\n    \u001b[7m   \u001b[0m \u001b[91m        ~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m152\u001b[0m:\u001b[93m51\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2769: \u001b[0mNo overload matches this call.\n      Overload 1 of 3, '(object: WebSocketServer, method: never): SpyInstance<never, never, any>', gave the following error.\n        Argument of type '\"start\"' is not assignable to parameter of type 'never'.\n      Overload 2 of 3, '(object: WebSocketServer, method: keyof WebSocketServer): SpyInstance<number | boolean | void | WebSocketServer | Promise<void> | ... 7 more ... | (string | symbol)[], [] | ... 25 more ... | [eventName: ...], any>', gave the following error.\n        Argument of type '\"start\"' is not assignable to parameter of type 'keyof WebSocketServer'.\n\n    \u001b[7m152\u001b[0m       const mockStart = jest.spyOn(limitedServer, 'start').mockResolvedValue();\n    \u001b[7m   \u001b[0m \u001b[91m                                                  ~~~~~~~\u001b[0m\n\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m152\u001b[0m:\u001b[93m60\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'mockResolvedValue' does not exist on type 'never'.\n\n    \u001b[7m152\u001b[0m       const mockStart = jest.spyOn(limitedServer, 'start').mockResolvedValue();\n    \u001b[7m   \u001b[0m \u001b[91m                                                           ~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m153\u001b[0m:\u001b[93m65\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2769: \u001b[0mNo overload matches this call.\n      Overload 1 of 3, '(object: WebSocketServer, method: never): SpyInstance<never, never, any>', gave the following error.\n        Argument of type '\"canAcceptConnection\"' is not assignable to parameter of type 'never'.\n      Overload 2 of 3, '(object: WebSocketServer, method: keyof WebSocketServer): SpyInstance<number | boolean | void | WebSocketServer | Promise<void> | ... 7 more ... | (string | symbol)[], [] | ... 25 more ... | [eventName: ...], any>', gave the following error.\n        Argument of type '\"canAcceptConnection\"' is not assignable to parameter of type 'keyof WebSocketServer'.\n\n    \u001b[7m153\u001b[0m       const mockCanAcceptConnection = jest.spyOn(limitedServer, 'canAcceptConnection')\n    \u001b[7m   \u001b[0m \u001b[91m                                                                ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\n\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m154\u001b[0m:\u001b[93m10\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'mockReturnValue' does not exist on type 'never'.\n\n    \u001b[7m154\u001b[0m         .mockReturnValue(false);\n    \u001b[7m   \u001b[0m \u001b[91m         ~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m156\u001b[0m:\u001b[93m27\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'start' does not exist on type 'WebSocketServer'.\n\n    \u001b[7m156\u001b[0m       await limitedServer.start();\n    \u001b[7m   \u001b[0m \u001b[91m                          ~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m158\u001b[0m:\u001b[93m39\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'canAcceptConnection' does not exist on type 'WebSocketServer'.\n\n    \u001b[7m158\u001b[0m       const canAccept = limitedServer.canAcceptConnection();\n    \u001b[7m   \u001b[0m \u001b[91m                                      ~~~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m168\u001b[0m:\u001b[93m59\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2769: \u001b[0mNo overload matches this call.\n      Overload 1 of 3, '(object: WebSocketServer, method: never): SpyInstance<never, never, any>', gave the following error.\n        Argument of type '\"subscribeToChannel\"' is not assignable to parameter of type 'never'.\n      Overload 2 of 3, '(object: WebSocketServer, method: keyof WebSocketServer): SpyInstance<number | boolean | void | WebSocketServer | Promise<void> | ... 7 more ... | (string | symbol)[], [] | ... 25 more ... | [eventName: ...], any>', gave the following error.\n        Argument of type '\"subscribeToChannel\"' is not assignable to parameter of type 'keyof WebSocketServer'.\n\n    \u001b[7m168\u001b[0m       const mockSubscribeToChannel = jest.spyOn(wsServer, 'subscribeToChannel')\n    \u001b[7m   \u001b[0m \u001b[91m                                                          ~~~~~~~~~~~~~~~~~~~~\u001b[0m\n\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m169\u001b[0m:\u001b[93m10\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'mockResolvedValue' does not exist on type 'never'.\n\n    \u001b[7m169\u001b[0m         .mockResolvedValue({ success: true });\n    \u001b[7m   \u001b[0m \u001b[91m         ~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m171\u001b[0m:\u001b[93m37\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'subscribeToChannel' does not exist on type 'WebSocketServer'.\n\n    \u001b[7m171\u001b[0m       const result = await wsServer.subscribeToChannel('test-socket-id', 'market-data');\n    \u001b[7m   \u001b[0m \u001b[91m                                    ~~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m179\u001b[0m:\u001b[93m63\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2769: \u001b[0mNo overload matches this call.\n      Overload 1 of 3, '(object: WebSocketServer, method: never): SpyInstance<never, never, any>', gave the following error.\n        Argument of type '\"unsubscribeFromChannel\"' is not assignable to parameter of type 'never'.\n      Overload 2 of 3, '(object: WebSocketServer, method: keyof WebSocketServer): SpyInstance<number | boolean | void | WebSocketServer | Promise<void> | ... 7 more ... | (string | symbol)[], [] | ... 25 more ... | [eventName: ...], any>', gave the following error.\n        Argument of type '\"unsubscribeFromChannel\"' is not assignable to parameter of type 'keyof WebSocketServer'.\n\n    \u001b[7m179\u001b[0m       const mockUnsubscribeFromChannel = jest.spyOn(wsServer, 'unsubscribeFromChannel')\n    \u001b[7m   \u001b[0m \u001b[91m                                                              ~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\n\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m180\u001b[0m:\u001b[93m10\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'mockResolvedValue' does not exist on type 'never'.\n\n    \u001b[7m180\u001b[0m         .mockResolvedValue({ success: true });\n    \u001b[7m   \u001b[0m \u001b[91m         ~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m182\u001b[0m:\u001b[93m37\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'unsubscribeFromChannel' does not exist on type 'WebSocketServer'.\n\n    \u001b[7m182\u001b[0m       const result = await wsServer.unsubscribeFromChannel('test-socket-id', 'market-data');\n    \u001b[7m   \u001b[0m \u001b[91m                                    ~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m191\u001b[0m:\u001b[93m28\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type '1' is not assignable to parameter of type 'never'.\n\n    \u001b[7m191\u001b[0m         .mockResolvedValue(1);\n    \u001b[7m   \u001b[0m \u001b[91m                           ~\u001b[0m\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m193\u001b[0m:\u001b[93m80\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type '{ type: string; data: { symbol: string; price: number; }; }' is not assignable to parameter of type 'WebSocketMessage<any>'.\n      Property 'timestamp' is missing in type '{ type: string; data: { symbol: string; price: number; }; }' but required in type 'WebSocketMessage<any>'.\n\n    \u001b[7m193\u001b[0m       const subscriberCount = await wsServer.broadcastToChannel('market-data', {\n    \u001b[7m   \u001b[0m \u001b[91m                                                                               ~\u001b[0m\n    \u001b[7m194\u001b[0m         type: 'ticker',\n    \u001b[7m   \u001b[0m \u001b[91m~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[7m195\u001b[0m         data: { symbol: 'BTCUSDT', price: 50000 }\n    \u001b[7m   \u001b[0m \u001b[91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[7m196\u001b[0m       });\n    \u001b[7m   \u001b[0m \u001b[91m~~~~~~~\u001b[0m\n\n      \u001b[96msrc/types/index.ts\u001b[0m:\u001b[93m43\u001b[0m:\u001b[93m3\u001b[0m\n        \u001b[7m43\u001b[0m   timestamp: number;\n        \u001b[7m  \u001b[0m \u001b[96m  ~~~~~~~~~\u001b[0m\n        'timestamp' is declared here.\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m206\u001b[0m:\u001b[93m56\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2769: \u001b[0mNo overload matches this call.\n      Overload 1 of 3, '(object: LiveDataWebSocketServer, method: never): SpyInstance<never, never, any>', gave the following error.\n        Argument of type '\"broadcastMarketData\"' is not assignable to parameter of type 'never'.\n      Overload 2 of 3, '(object: LiveDataWebSocketServer, method: keyof LiveDataWebSocketServer): SpyInstance<void | Promise<void> | { totalClients: number; activeSubscriptions: number; symbolSubscriptions: Record<...>; rateLimitViolations: number; }, [], any>', gave the following error.\n        Argument of type '\"broadcastMarketData\"' is not assignable to parameter of type 'keyof LiveDataWebSocketServer'.\n\n    \u001b[7m206\u001b[0m       const mockBroadcast = jest.spyOn(liveDataServer, 'broadcastMarketData')\n    \u001b[7m   \u001b[0m \u001b[91m                                                       ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\n\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m207\u001b[0m:\u001b[93m10\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'mockResolvedValue' does not exist on type 'never'.\n\n    \u001b[7m207\u001b[0m         .mockResolvedValue();\n    \u001b[7m   \u001b[0m \u001b[91m         ~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m216\u001b[0m:\u001b[93m28\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2341: \u001b[0mProperty 'broadcastMarketData' is private and only accessible within class 'LiveDataWebSocketServer'.\n\n    \u001b[7m216\u001b[0m       await liveDataServer.broadcastMarketData(marketData);\n    \u001b[7m   \u001b[0m \u001b[91m                           ~~~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m216\u001b[0m:\u001b[93m28\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2554: \u001b[0mExpected 2 arguments, but got 1.\n\n    \u001b[7m216\u001b[0m       await liveDataServer.broadcastMarketData(marketData);\n    \u001b[7m   \u001b[0m \u001b[91m                           ~~~~~~~~~~~~~~~~~~~\u001b[0m\n\n      \u001b[96msrc/services/LiveDataWebSocketServer.ts\u001b[0m:\u001b[93m109\u001b[0m:\u001b[93m47\u001b[0m\n        \u001b[7m109\u001b[0m   private broadcastMarketData(symbol: string, data: AggregatedMarketData): void {\n        \u001b[7m   \u001b[0m \u001b[96m                                              ~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\n        An argument for 'data' was not provided.\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m224\u001b[0m:\u001b[93m56\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2769: \u001b[0mNo overload matches this call.\n      Overload 1 of 3, '(object: LiveDataWebSocketServer, method: never): SpyInstance<never, never, any>', gave the following error.\n        Argument of type '\"broadcastTradingUpdate\"' is not assignable to parameter of type 'never'.\n      Overload 2 of 3, '(object: LiveDataWebSocketServer, method: keyof LiveDataWebSocketServer): SpyInstance<void | Promise<void> | { totalClients: number; activeSubscriptions: number; symbolSubscriptions: Record<...>; rateLimitViolations: number; }, [], any>', gave the following error.\n        Argument of type '\"broadcastTradingUpdate\"' is not assignable to parameter of type 'keyof LiveDataWebSocketServer'.\n\n    \u001b[7m224\u001b[0m       const mockBroadcast = jest.spyOn(liveDataServer, 'broadcastTradingUpdate')\n    \u001b[7m   \u001b[0m \u001b[91m                                                       ~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\n\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m225\u001b[0m:\u001b[93m10\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'mockResolvedValue' does not exist on type 'never'.\n\n    \u001b[7m225\u001b[0m         .mockResolvedValue();\n    \u001b[7m   \u001b[0m \u001b[91m         ~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m236\u001b[0m:\u001b[93m28\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'broadcastTradingUpdate' does not exist on type 'LiveDataWebSocketServer'.\n\n    \u001b[7m236\u001b[0m       await liveDataServer.broadcastTradingUpdate(tradingUpdate);\n    \u001b[7m   \u001b[0m \u001b[91m                           ~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m244\u001b[0m:\u001b[93m56\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2769: \u001b[0mNo overload matches this call.\n      Overload 1 of 3, '(object: LiveDataWebSocketServer, method: never): SpyInstance<never, never, any>', gave the following error.\n        Argument of type '\"broadcastPortfolioUpdate\"' is not assignable to parameter of type 'never'.\n      Overload 2 of 3, '(object: LiveDataWebSocketServer, method: keyof LiveDataWebSocketServer): SpyInstance<void | Promise<void> | { totalClients: number; activeSubscriptions: number; symbolSubscriptions: Record<...>; rateLimitViolations: number; }, [], any>', gave the following error.\n        Argument of type '\"broadcastPortfolioUpdate\"' is not assignable to parameter of type 'keyof LiveDataWebSocketServer'.\n\n    \u001b[7m244\u001b[0m       const mockBroadcast = jest.spyOn(liveDataServer, 'broadcastPortfolioUpdate')\n    \u001b[7m   \u001b[0m \u001b[91m                                                       ~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\n\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m245\u001b[0m:\u001b[93m10\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'mockResolvedValue' does not exist on type 'never'.\n\n    \u001b[7m245\u001b[0m         .mockResolvedValue();\n    \u001b[7m   \u001b[0m \u001b[91m         ~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m254\u001b[0m:\u001b[93m28\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'broadcastPortfolioUpdate' does not exist on type 'LiveDataWebSocketServer'.\n\n    \u001b[7m254\u001b[0m       await liveDataServer.broadcastPortfolioUpdate(portfolioUpdate);\n    \u001b[7m   \u001b[0m \u001b[91m                           ~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m264\u001b[0m:\u001b[93m54\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2769: \u001b[0mNo overload matches this call.\n      Overload 1 of 3, '(object: BinanceWebSocketService, method: never): SpyInstance<never, never, any>', gave the following error.\n        Argument of type '\"connect\"' is not assignable to parameter of type 'never'.\n      Overload 2 of 3, '(object: BinanceWebSocketService, method: keyof BinanceWebSocketService): SpyInstance<number | boolean | void | BinanceWebSocketService | Promise<...> | Function[] | (string | symbol)[] | ConnectionStats, [] | ... 20 more ... | [symbol: ...], any>', gave the following error.\n        Argument of type '\"connect\"' is not assignable to parameter of type 'keyof BinanceWebSocketService'.\n\n    \u001b[7m264\u001b[0m       const mockConnect = jest.spyOn(binanceService, 'connect').mockResolvedValue();\n    \u001b[7m   \u001b[0m \u001b[91m                                                     ~~~~~~~~~\u001b[0m\n\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m264\u001b[0m:\u001b[93m65\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'mockResolvedValue' does not exist on type 'never'.\n\n    \u001b[7m264\u001b[0m       const mockConnect = jest.spyOn(binanceService, 'connect').mockResolvedValue();\n    \u001b[7m   \u001b[0m \u001b[91m                                                                ~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m265\u001b[0m:\u001b[93m58\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2769: \u001b[0mNo overload matches this call.\n      Overload 1 of 3, '(object: BinanceWebSocketService, method: never): SpyInstance<never, never, any>', gave the following error.\n        Argument of type '\"isConnected\"' is not assignable to parameter of type 'never'.\n      Overload 2 of 3, '(object: BinanceWebSocketService, method: keyof BinanceWebSocketService): SpyInstance<number | boolean | void | BinanceWebSocketService | Promise<...> | Function[] | (string | symbol)[] | ConnectionStats, [] | ... 20 more ... | [symbol: ...], any>', gave the following error.\n        Argument of type '\"isConnected\"' is not assignable to parameter of type 'keyof BinanceWebSocketService'.\n\n    \u001b[7m265\u001b[0m       const mockIsConnected = jest.spyOn(binanceService, 'isConnected').mockReturnValue(true);\n    \u001b[7m   \u001b[0m \u001b[91m                                                         ~~~~~~~~~~~~~\u001b[0m\n\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m265\u001b[0m:\u001b[93m73\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'mockReturnValue' does not exist on type 'never'.\n\n    \u001b[7m265\u001b[0m       const mockIsConnected = jest.spyOn(binanceService, 'isConnected').mockReturnValue(true);\n    \u001b[7m   \u001b[0m \u001b[91m                                                                        ~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m267\u001b[0m:\u001b[93m28\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'connect' does not exist on type 'BinanceWebSocketService'.\n\n    \u001b[7m267\u001b[0m       await binanceService.connect();\n    \u001b[7m   \u001b[0m \u001b[91m                           ~~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m270\u001b[0m:\u001b[93m29\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'isConnected' does not exist on type 'BinanceWebSocketService'.\n\n    \u001b[7m270\u001b[0m       expect(binanceService.isConnected()).toBe(true);\n    \u001b[7m   \u001b[0m \u001b[91m                            ~~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m277\u001b[0m:\u001b[93m56\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2769: \u001b[0mNo overload matches this call.\n      Overload 1 of 3, '(object: BinanceWebSocketService, method: never): SpyInstance<never, never, any>', gave the following error.\n        Argument of type '\"subscribeToSymbol\"' is not assignable to parameter of type 'never'.\n      Overload 2 of 3, '(object: BinanceWebSocketService, method: keyof BinanceWebSocketService): SpyInstance<number | boolean | void | BinanceWebSocketService | Promise<...> | Function[] | (string | symbol)[] | ConnectionStats, [] | ... 20 more ... | [symbol: ...], any>', gave the following error.\n        Argument of type '\"subscribeToSymbol\"' is not assignable to parameter of type 'keyof BinanceWebSocketService'.\n\n    \u001b[7m277\u001b[0m       const mockSubscribe = jest.spyOn(binanceService, 'subscribeToSymbol').mockResolvedValue();\n    \u001b[7m   \u001b[0m \u001b[91m                                                       ~~~~~~~~~~~~~~~~~~~\u001b[0m\n\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m277\u001b[0m:\u001b[93m77\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'mockResolvedValue' does not exist on type 'never'.\n\n    \u001b[7m277\u001b[0m       const mockSubscribe = jest.spyOn(binanceService, 'subscribeToSymbol').mockResolvedValue();\n    \u001b[7m   \u001b[0m \u001b[91m                                                                            ~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m279\u001b[0m:\u001b[93m28\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2551: \u001b[0mProperty 'subscribeToSymbol' does not exist on type 'BinanceWebSocketService'. Did you mean 'unsubscribeFromSymbol'?\n\n    \u001b[7m279\u001b[0m       await binanceService.subscribeToSymbol('BTCUSDT');\n    \u001b[7m   \u001b[0m \u001b[91m                           ~~~~~~~~~~~~~~~~~\u001b[0m\n\n      \u001b[96msrc/services/BinanceWebSocketService.ts\u001b[0m:\u001b[93m298\u001b[0m:\u001b[93m9\u001b[0m\n        \u001b[7m298\u001b[0m   async unsubscribeFromSymbol(symbol: string): Promise<void> {\n        \u001b[7m   \u001b[0m \u001b[96m        ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\n        'unsubscribeFromSymbol' is declared here.\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m287\u001b[0m:\u001b[93m56\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2769: \u001b[0mNo overload matches this call.\n      Overload 1 of 3, '(object: BinanceWebSocketService, method: never): SpyInstance<never, never, any>', gave the following error.\n        Argument of type '\"reconnect\"' is not assignable to parameter of type 'never'.\n      Overload 2 of 3, '(object: BinanceWebSocketService, method: keyof BinanceWebSocketService): SpyInstance<number | boolean | void | BinanceWebSocketService | Promise<...> | Function[] | (string | symbol)[] | ConnectionStats, [] | ... 20 more ... | [symbol: ...], any>', gave the following error.\n        Argument of type '\"reconnect\"' is not assignable to parameter of type 'keyof BinanceWebSocketService'.\n\n    \u001b[7m287\u001b[0m       const mockReconnect = jest.spyOn(binanceService, 'reconnect').mockResolvedValue();\n    \u001b[7m   \u001b[0m \u001b[91m                                                       ~~~~~~~~~~~\u001b[0m\n\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m287\u001b[0m:\u001b[93m69\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'mockResolvedValue' does not exist on type 'never'.\n\n    \u001b[7m287\u001b[0m       const mockReconnect = jest.spyOn(binanceService, 'reconnect').mockResolvedValue();\n    \u001b[7m   \u001b[0m \u001b[91m                                                                    ~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m289\u001b[0m:\u001b[93m28\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'reconnect' does not exist on type 'BinanceWebSocketService'.\n\n    \u001b[7m289\u001b[0m       await binanceService.reconnect();\n    \u001b[7m   \u001b[0m \u001b[91m                           ~~~~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m297\u001b[0m:\u001b[93m53\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2769: \u001b[0mNo overload matches this call.\n      Overload 1 of 3, '(object: KuCoinWebSocketService, method: never): SpyInstance<never, never, any>', gave the following error.\n        Argument of type '\"connect\"' is not assignable to parameter of type 'never'.\n      Overload 2 of 3, '(object: KuCoinWebSocketService, method: keyof KuCoinWebSocketService): SpyInstance<number | boolean | void | KuCoinWebSocketService | Promise<...> | Function[] | (string | symbol)[] | KuCoinConnectionStats, [] | ... 20 more ... | [symbol: ...], any>', gave the following error.\n        Argument of type '\"connect\"' is not assignable to parameter of type 'keyof KuCoinWebSocketService'.\n\n    \u001b[7m297\u001b[0m       const mockConnect = jest.spyOn(kucoinService, 'connect').mockResolvedValue();\n    \u001b[7m   \u001b[0m \u001b[91m                                                    ~~~~~~~~~\u001b[0m\n\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m297\u001b[0m:\u001b[93m64\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'mockResolvedValue' does not exist on type 'never'.\n\n    \u001b[7m297\u001b[0m       const mockConnect = jest.spyOn(kucoinService, 'connect').mockResolvedValue();\n    \u001b[7m   \u001b[0m \u001b[91m                                                               ~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m298\u001b[0m:\u001b[93m57\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2769: \u001b[0mNo overload matches this call.\n      Overload 1 of 3, '(object: KuCoinWebSocketService, method: never): SpyInstance<never, never, any>', gave the following error.\n        Argument of type '\"isConnected\"' is not assignable to parameter of type 'never'.\n      Overload 2 of 3, '(object: KuCoinWebSocketService, method: keyof KuCoinWebSocketService): SpyInstance<number | boolean | void | KuCoinWebSocketService | Promise<...> | Function[] | (string | symbol)[] | KuCoinConnectionStats, [] | ... 20 more ... | [symbol: ...], any>', gave the following error.\n        Argument of type '\"isConnected\"' is not assignable to parameter of type 'keyof KuCoinWebSocketService'.\n\n    \u001b[7m298\u001b[0m       const mockIsConnected = jest.spyOn(kucoinService, 'isConnected').mockReturnValue(true);\n    \u001b[7m   \u001b[0m \u001b[91m                                                        ~~~~~~~~~~~~~\u001b[0m\n\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m298\u001b[0m:\u001b[93m72\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'mockReturnValue' does not exist on type 'never'.\n\n    \u001b[7m298\u001b[0m       const mockIsConnected = jest.spyOn(kucoinService, 'isConnected').mockReturnValue(true);\n    \u001b[7m   \u001b[0m \u001b[91m                                                                       ~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m300\u001b[0m:\u001b[93m27\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'connect' does not exist on type 'KuCoinWebSocketService'.\n\n    \u001b[7m300\u001b[0m       await kucoinService.connect();\n    \u001b[7m   \u001b[0m \u001b[91m                          ~~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m303\u001b[0m:\u001b[93m28\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'isConnected' does not exist on type 'KuCoinWebSocketService'.\n\n    \u001b[7m303\u001b[0m       expect(kucoinService.isConnected()).toBe(true);\n    \u001b[7m   \u001b[0m \u001b[91m                           ~~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m322\u001b[0m:\u001b[93m54\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2769: \u001b[0mNo overload matches this call.\n      Overload 1 of 3, '(object: WebSocketServer, method: never): SpyInstance<never, never, any>', gave the following error.\n        Argument of type '\"handleMessage\"' is not assignable to parameter of type 'never'.\n      Overload 2 of 3, '(object: WebSocketServer, method: keyof WebSocketServer): SpyInstance<number | boolean | void | WebSocketServer | Promise<void> | ... 7 more ... | (string | symbol)[], [] | ... 25 more ... | [eventName: ...], any>', gave the following error.\n        Argument of type '\"handleMessage\"' is not assignable to parameter of type 'keyof WebSocketServer'.\n\n    \u001b[7m322\u001b[0m       const mockHandleMessage = jest.spyOn(wsServer, 'handleMessage')\n    \u001b[7m   \u001b[0m \u001b[91m                                                     ~~~~~~~~~~~~~~~\u001b[0m\n\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m323\u001b[0m:\u001b[93m10\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'mockResolvedValue' does not exist on type 'never'.\n\n    \u001b[7m323\u001b[0m         .mockResolvedValue();\n    \u001b[7m   \u001b[0m \u001b[91m         ~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m331\u001b[0m:\u001b[93m22\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'handleMessage' does not exist on type 'WebSocketServer'.\n\n    \u001b[7m331\u001b[0m       await wsServer.handleMessage('test-socket-id', JSON.stringify(message));\n    \u001b[7m   \u001b[0m \u001b[91m                     ~~~~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m339\u001b[0m:\u001b[93m56\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2769: \u001b[0mNo overload matches this call.\n      Overload 1 of 3, '(object: WebSocketServer, method: never): SpyInstance<never, never, any>', gave the following error.\n        Argument of type '\"validateMessage\"' is not assignable to parameter of type 'never'.\n      Overload 2 of 3, '(object: WebSocketServer, method: keyof WebSocketServer): SpyInstance<number | boolean | void | WebSocketServer | Promise<void> | ... 7 more ... | (string | symbol)[], [] | ... 25 more ... | [eventName: ...], any>', gave the following error.\n        Argument of type '\"validateMessage\"' is not assignable to parameter of type 'keyof WebSocketServer'.\n\n    \u001b[7m339\u001b[0m       const mockValidateMessage = jest.spyOn(wsServer, 'validateMessage')\n    \u001b[7m   \u001b[0m \u001b[91m                                                       ~~~~~~~~~~~~~~~~~\u001b[0m\n\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m340\u001b[0m:\u001b[93m10\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'mockReturnValue' does not exist on type 'never'.\n\n    \u001b[7m340\u001b[0m         .mockReturnValue({ valid: true });\n    \u001b[7m   \u001b[0m \u001b[91m         ~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m347\u001b[0m:\u001b[93m35\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'validateMessage' does not exist on type 'WebSocketServer'.\n\n    \u001b[7m347\u001b[0m       const validation = wsServer.validateMessage(message);\n    \u001b[7m   \u001b[0m \u001b[91m                                  ~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m355\u001b[0m:\u001b[93m56\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2769: \u001b[0mNo overload matches this call.\n      Overload 1 of 3, '(object: WebSocketServer, method: never): SpyInstance<never, never, any>', gave the following error.\n        Argument of type '\"validateMessage\"' is not assignable to parameter of type 'never'.\n      Overload 2 of 3, '(object: WebSocketServer, method: keyof WebSocketServer): SpyInstance<number | boolean | void | WebSocketServer | Promise<void> | ... 7 more ... | (string | symbol)[], [] | ... 25 more ... | [eventName: ...], any>', gave the following error.\n        Argument of type '\"validateMessage\"' is not assignable to parameter of type 'keyof WebSocketServer'.\n\n    \u001b[7m355\u001b[0m       const mockValidateMessage = jest.spyOn(wsServer, 'validateMessage')\n    \u001b[7m   \u001b[0m \u001b[91m                                                       ~~~~~~~~~~~~~~~~~\u001b[0m\n\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m356\u001b[0m:\u001b[93m10\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'mockReturnValue' does not exist on type 'never'.\n\n    \u001b[7m356\u001b[0m         .mockReturnValue({ valid: false, error: 'Invalid message format' });\n    \u001b[7m   \u001b[0m \u001b[91m         ~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m360\u001b[0m:\u001b[93m35\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'validateMessage' does not exist on type 'WebSocketServer'.\n\n    \u001b[7m360\u001b[0m       const validation = wsServer.validateMessage(invalidMessage);\n    \u001b[7m   \u001b[0m \u001b[91m                                  ~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m371\u001b[0m:\u001b[93m52\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2769: \u001b[0mNo overload matches this call.\n      Overload 1 of 3, '(object: WebSocketServer, method: never): SpyInstance<never, never, any>', gave the following error.\n        Argument of type '\"handleConnectionError\"' is not assignable to parameter of type 'never'.\n      Overload 2 of 3, '(object: WebSocketServer, method: keyof WebSocketServer): SpyInstance<number | boolean | void | WebSocketServer | Promise<void> | ... 7 more ... | (string | symbol)[], [] | ... 25 more ... | [eventName: ...], any>', gave the following error.\n        Argument of type '\"handleConnectionError\"' is not assignable to parameter of type 'keyof WebSocketServer'.\n\n    \u001b[7m371\u001b[0m       const mockHandleError = jest.spyOn(wsServer, 'handleConnectionError')\n    \u001b[7m   \u001b[0m \u001b[91m                                                   ~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\n\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m372\u001b[0m:\u001b[93m10\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'mockResolvedValue' does not exist on type 'never'.\n\n    \u001b[7m372\u001b[0m         .mockResolvedValue();\n    \u001b[7m   \u001b[0m \u001b[91m         ~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m376\u001b[0m:\u001b[93m22\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'handleConnectionError' does not exist on type 'WebSocketServer'.\n\n    \u001b[7m376\u001b[0m       await wsServer.handleConnectionError('test-socket-id', error);\n    \u001b[7m   \u001b[0m \u001b[91m                     ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m384\u001b[0m:\u001b[93m54\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2769: \u001b[0mNo overload matches this call.\n      Overload 1 of 3, '(object: BinanceWebSocketService, method: never): SpyInstance<never, never, any>', gave the following error.\n        Argument of type '\"connect\"' is not assignable to parameter of type 'never'.\n      Overload 2 of 3, '(object: BinanceWebSocketService, method: keyof BinanceWebSocketService): SpyInstance<number | boolean | void | BinanceWebSocketService | Promise<...> | Function[] | (string | symbol)[] | ConnectionStats, [] | ... 20 more ... | [symbol: ...], any>', gave the following error.\n        Argument of type '\"connect\"' is not assignable to parameter of type 'keyof BinanceWebSocketService'.\n\n    \u001b[7m384\u001b[0m       const mockConnect = jest.spyOn(binanceService, 'connect')\n    \u001b[7m   \u001b[0m \u001b[91m                                                     ~~~~~~~~~\u001b[0m\n\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m385\u001b[0m:\u001b[93m10\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'mockRejectedValue' does not exist on type 'never'.\n\n    \u001b[7m385\u001b[0m         .mockRejectedValue(new Error('Connection failed'));\n    \u001b[7m   \u001b[0m \u001b[91m         ~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m387\u001b[0m:\u001b[93m35\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'connect' does not exist on type 'BinanceWebSocketService'.\n\n    \u001b[7m387\u001b[0m       await expect(binanceService.connect()).rejects.toThrow('Connection failed');\n    \u001b[7m   \u001b[0m \u001b[91m                                  ~~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m393\u001b[0m:\u001b[93m48\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2769: \u001b[0mNo overload matches this call.\n      Overload 1 of 3, '(object: WebSocketServer, method: never): SpyInstance<never, never, any>', gave the following error.\n        Argument of type '\"recoverFromError\"' is not assignable to parameter of type 'never'.\n      Overload 2 of 3, '(object: WebSocketServer, method: keyof WebSocketServer): SpyInstance<number | boolean | void | WebSocketServer | Promise<void> | ... 7 more ... | (string | symbol)[], [] | ... 25 more ... | [eventName: ...], any>', gave the following error.\n        Argument of type '\"recoverFromError\"' is not assignable to parameter of type 'keyof WebSocketServer'.\n\n    \u001b[7m393\u001b[0m       const mockRecover = jest.spyOn(wsServer, 'recoverFromError')\n    \u001b[7m   \u001b[0m \u001b[91m                                               ~~~~~~~~~~~~~~~~~~\u001b[0m\n\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m394\u001b[0m:\u001b[93m10\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'mockResolvedValue' does not exist on type 'never'.\n\n    \u001b[7m394\u001b[0m         .mockResolvedValue(true);\n    \u001b[7m   \u001b[0m \u001b[91m         ~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m396\u001b[0m:\u001b[93m40\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'recoverFromError' does not exist on type 'WebSocketServer'.\n\n    \u001b[7m396\u001b[0m       const recovered = await wsServer.recoverFromError(new Error('Test error'));\n    \u001b[7m   \u001b[0m \u001b[91m                                       ~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m415\u001b[0m:\u001b[93m55\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2769: \u001b[0mNo overload matches this call.\n      Overload 1 of 3, '(object: WebSocketServer, method: never): SpyInstance<never, never, any>', gave the following error.\n        Argument of type '\"checkRateLimit\"' is not assignable to parameter of type 'never'.\n      Overload 2 of 3, '(object: WebSocketServer, method: keyof WebSocketServer): SpyInstance<number | boolean | void | WebSocketServer | Promise<void> | ... 7 more ... | (string | symbol)[], [] | ... 25 more ... | [eventName: ...], any>', gave the following error.\n        Argument of type '\"checkRateLimit\"' is not assignable to parameter of type 'keyof WebSocketServer'.\n\n    \u001b[7m415\u001b[0m       const mockCheckRateLimit = jest.spyOn(wsServer, 'checkRateLimit')\n    \u001b[7m   \u001b[0m \u001b[91m                                                      ~~~~~~~~~~~~~~~~\u001b[0m\n\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m416\u001b[0m:\u001b[93m10\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'mockReturnValue' does not exist on type 'never'.\n\n    \u001b[7m416\u001b[0m         .mockReturnValue({ allowed: true, remaining: 99 });\n    \u001b[7m   \u001b[0m \u001b[91m         ~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m418\u001b[0m:\u001b[93m40\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2341: \u001b[0mProperty 'checkRateLimit' is private and only accessible within class 'WebSocketServer'.\n\n    \u001b[7m418\u001b[0m       const rateLimitResult = wsServer.checkRateLimit('test-socket-id');\n    \u001b[7m   \u001b[0m \u001b[91m                                       ~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m418\u001b[0m:\u001b[93m55\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type 'string' is not assignable to parameter of type 'AuthenticatedSocket'.\n\n    \u001b[7m418\u001b[0m       const rateLimitResult = wsServer.checkRateLimit('test-socket-id');\n    \u001b[7m   \u001b[0m \u001b[91m                                                      ~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m420\u001b[0m:\u001b[93m30\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'allowed' does not exist on type 'boolean'.\n\n    \u001b[7m420\u001b[0m       expect(rateLimitResult.allowed).toBe(true);\n    \u001b[7m   \u001b[0m \u001b[91m                             ~~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m421\u001b[0m:\u001b[93m30\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'remaining' does not exist on type 'boolean'.\n\n    \u001b[7m421\u001b[0m       expect(rateLimitResult.remaining).toBe(99);\n    \u001b[7m   \u001b[0m \u001b[91m                             ~~~~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m427\u001b[0m:\u001b[93m55\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2769: \u001b[0mNo overload matches this call.\n      Overload 1 of 3, '(object: WebSocketServer, method: never): SpyInstance<never, never, any>', gave the following error.\n        Argument of type '\"getMemoryUsage\"' is not assignable to parameter of type 'never'.\n      Overload 2 of 3, '(object: WebSocketServer, method: keyof WebSocketServer): SpyInstance<number | boolean | void | WebSocketServer | Promise<void> | ... 7 more ... | (string | symbol)[], [] | ... 25 more ... | [eventName: ...], any>', gave the following error.\n        Argument of type '\"getMemoryUsage\"' is not assignable to parameter of type 'keyof WebSocketServer'.\n\n    \u001b[7m427\u001b[0m       const mockGetMemoryUsage = jest.spyOn(wsServer, 'getMemoryUsage')\n    \u001b[7m   \u001b[0m \u001b[91m                                                      ~~~~~~~~~~~~~~~~\u001b[0m\n\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m428\u001b[0m:\u001b[93m10\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'mockReturnValue' does not exist on type 'never'.\n\n    \u001b[7m428\u001b[0m         .mockReturnValue({ used: 1000000, total: 10000000 });\n    \u001b[7m   \u001b[0m \u001b[91m         ~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m430\u001b[0m:\u001b[93m36\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'getMemoryUsage' does not exist on type 'WebSocketServer'.\n\n    \u001b[7m430\u001b[0m       const memoryUsage = wsServer.getMemoryUsage();\n    \u001b[7m   \u001b[0m \u001b[91m                                   ~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m441\u001b[0m:\u001b[93m45\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2769: \u001b[0mNo overload matches this call.\n      Overload 1 of 3, '(object: WebSocketServer, method: never): SpyInstance<never, never, any>', gave the following error.\n        Argument of type '\"stop\"' is not assignable to parameter of type 'never'.\n      Overload 2 of 3, '(object: WebSocketServer, method: keyof WebSocketServer): SpyInstance<number | boolean | void | WebSocketServer | Promise<void> | ... 7 more ... | (string | symbol)[], [] | ... 25 more ... | [eventName: ...], any>', gave the following error.\n        Argument of type '\"stop\"' is not assignable to parameter of type 'keyof WebSocketServer'.\n\n    \u001b[7m441\u001b[0m       const mockStop = jest.spyOn(wsServer, 'stop').mockResolvedValue();\n    \u001b[7m   \u001b[0m \u001b[91m                                            ~~~~~~\u001b[0m\n\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m441\u001b[0m:\u001b[93m53\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'mockResolvedValue' does not exist on type 'never'.\n\n    \u001b[7m441\u001b[0m       const mockStop = jest.spyOn(wsServer, 'stop').mockResolvedValue();\n    \u001b[7m   \u001b[0m \u001b[91m                                                    ~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m443\u001b[0m:\u001b[93m22\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'stop' does not exist on type 'WebSocketServer'.\n\n    \u001b[7m443\u001b[0m       await wsServer.stop();\n    \u001b[7m   \u001b[0m \u001b[91m                     ~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m451\u001b[0m:\u001b[93m60\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2769: \u001b[0mNo overload matches this call.\n      Overload 1 of 3, '(object: WebSocketServer, method: never): SpyInstance<never, never, any>', gave the following error.\n        Argument of type '\"closeAllConnections\"' is not assignable to parameter of type 'never'.\n      Overload 2 of 3, '(object: WebSocketServer, method: keyof WebSocketServer): SpyInstance<number | boolean | void | WebSocketServer | Promise<void> | ... 7 more ... | (string | symbol)[], [] | ... 25 more ... | [eventName: ...], any>', gave the following error.\n        Argument of type '\"closeAllConnections\"' is not assignable to parameter of type 'keyof WebSocketServer'.\n\n    \u001b[7m451\u001b[0m       const mockCloseAllConnections = jest.spyOn(wsServer, 'closeAllConnections')\n    \u001b[7m   \u001b[0m \u001b[91m                                                           ~~~~~~~~~~~~~~~~~~~~~\u001b[0m\n\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m452\u001b[0m:\u001b[93m10\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'mockResolvedValue' does not exist on type 'never'.\n\n    \u001b[7m452\u001b[0m         .mockResolvedValue();\n    \u001b[7m   \u001b[0m \u001b[91m         ~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m454\u001b[0m:\u001b[93m22\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'closeAllConnections' does not exist on type 'WebSocketServer'.\n\n    \u001b[7m454\u001b[0m       await wsServer.closeAllConnections();\n    \u001b[7m   \u001b[0m \u001b[91m                     ~~~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m462\u001b[0m:\u001b[93m65\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2769: \u001b[0mNo overload matches this call.\n      Overload 1 of 3, '(object: WebSocketServer, method: never): SpyInstance<never, never, any>', gave the following error.\n        Argument of type '\"waitForPendingOperations\"' is not assignable to parameter of type 'never'.\n      Overload 2 of 3, '(object: WebSocketServer, method: keyof WebSocketServer): SpyInstance<number | boolean | void | WebSocketServer | Promise<void> | ... 7 more ... | (string | symbol)[], [] | ... 25 more ... | [eventName: ...], any>', gave the following error.\n        Argument of type '\"waitForPendingOperations\"' is not assignable to parameter of type 'keyof WebSocketServer'.\n\n    \u001b[7m462\u001b[0m       const mockWaitForPendingOperations = jest.spyOn(wsServer, 'waitForPendingOperations')\n    \u001b[7m   \u001b[0m \u001b[91m                                                                ~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\n\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m463\u001b[0m:\u001b[93m10\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'mockResolvedValue' does not exist on type 'never'.\n\n    \u001b[7m463\u001b[0m         .mockResolvedValue();\n    \u001b[7m   \u001b[0m \u001b[91m         ~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/WebSocketFunctionalityValidation.test.ts\u001b[0m:\u001b[93m465\u001b[0m:\u001b[93m22\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'waitForPendingOperations' does not exist on type 'WebSocketServer'.\n\n    \u001b[7m465\u001b[0m       await wsServer.waitForPendingOperations();\n    \u001b[7m   \u001b[0m \u001b[91m                     ~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\n\nTest Suites: 1 failed, 1 total\nTests:       0 total\nSnapshots:   0 total\nTime:        17.134 s\nRan all test suites matching /WebSocketFunctionalityValidation.test.ts/i.\n"
      ]
    },
    {
      "testFile": "EndToEndWorkflowValidation.test.ts",
      "status": "failed",
      "duration": 0,
      "errors": [
        "Command failed: npx jest --testPathPattern=\"EndToEndWorkflowValidation.test.ts\" --verbose --detectOpenHandles --forceExit\nFAIL src/__tests__/integration/EndToEndWorkflowValidation.test.ts\n  ‚óè Test suite failed to run\n\n    \u001b[96msrc/__tests__/integration/EndToEndWorkflowValidation.test.ts\u001b[0m:\u001b[93m71\u001b[0m:\u001b[93m67\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2554: \u001b[0mExpected 1 arguments, but got 2.\n\n    \u001b[7m71\u001b[0m       virtualPortfolioManager.initializeUserPortfolio(testUserId, 10000);\n    \u001b[7m  \u001b[0m \u001b[91m                                                                  ~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/EndToEndWorkflowValidation.test.ts\u001b[0m:\u001b[93m73\u001b[0m:\u001b[93m32\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'totalValue' does not exist on type 'PortfolioSummary'.\n\n    \u001b[7m73\u001b[0m       expect(initialPortfolio?.totalValue).toBe(10000);\n    \u001b[7m  \u001b[0m \u001b[91m                               ~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/EndToEndWorkflowValidation.test.ts\u001b[0m:\u001b[93m93\u001b[0m:\u001b[93m81\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type '{ userId: string; symbol: string; side: \"buy\"; type: \"market\"; quantity: number; price: any; }' is not assignable to parameter of type 'OrderRequest'.\n      Property 'exchange' is missing in type '{ userId: string; symbol: string; side: \"buy\"; type: \"market\"; quantity: number; price: any; }' but required in type 'OrderRequest'.\n\n    \u001b[7m93\u001b[0m       const simulatedTrade = await tradeSimulationEngine.simulateOrderExecution(tradeRequest);\n    \u001b[7m  \u001b[0m \u001b[91m                                                                                ~~~~~~~~~~~~\u001b[0m\n\n      \u001b[96msrc/types/trading.ts\u001b[0m:\u001b[93m64\u001b[0m:\u001b[93m3\u001b[0m\n        \u001b[7m64\u001b[0m   exchange: string;\n        \u001b[7m  \u001b[0m \u001b[96m  ~~~~~~~~\u001b[0m\n        'exchange' is declared here.\n    \u001b[96msrc/__tests__/integration/EndToEndWorkflowValidation.test.ts\u001b[0m:\u001b[93m96\u001b[0m:\u001b[93m29\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'executedQuantity' does not exist on type 'SimulatedOrderResponse'.\n\n    \u001b[7m96\u001b[0m       expect(simulatedTrade.executedQuantity).toBe(0.001);\n    \u001b[7m  \u001b[0m \u001b[91m                            ~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/EndToEndWorkflowValidation.test.ts\u001b[0m:\u001b[93m97\u001b[0m:\u001b[93m29\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'fees' does not exist on type 'SimulatedOrderResponse'.\n\n    \u001b[7m97\u001b[0m       expect(simulatedTrade.fees).toBeGreaterThan(0);\n    \u001b[7m  \u001b[0m \u001b[91m                            ~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/EndToEndWorkflowValidation.test.ts\u001b[0m:\u001b[93m100\u001b[0m:\u001b[93m31\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'updatePortfolioWithTrade' does not exist on type 'VirtualPortfolioManager'.\n\n    \u001b[7m100\u001b[0m       virtualPortfolioManager.updatePortfolioWithTrade(testUserId, {\n    \u001b[7m   \u001b[0m \u001b[91m                              ~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/EndToEndWorkflowValidation.test.ts\u001b[0m:\u001b[93m103\u001b[0m:\u001b[93m34\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'executedQuantity' does not exist on type 'SimulatedOrderResponse'.\n\n    \u001b[7m103\u001b[0m         quantity: simulatedTrade.executedQuantity,\n    \u001b[7m   \u001b[0m \u001b[91m                                 ~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/EndToEndWorkflowValidation.test.ts\u001b[0m:\u001b[93m104\u001b[0m:\u001b[93m31\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'executedPrice' does not exist on type 'SimulatedOrderResponse'.\n\n    \u001b[7m104\u001b[0m         price: simulatedTrade.executedPrice,\n    \u001b[7m   \u001b[0m \u001b[91m                              ~~~~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/EndToEndWorkflowValidation.test.ts\u001b[0m:\u001b[93m105\u001b[0m:\u001b[93m29\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'fees' does not exist on type 'SimulatedOrderResponse'.\n\n    \u001b[7m105\u001b[0m         fee: simulatedTrade.fees,\n    \u001b[7m   \u001b[0m \u001b[91m                            ~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/EndToEndWorkflowValidation.test.ts\u001b[0m:\u001b[93m111\u001b[0m:\u001b[93m32\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'totalValue' does not exist on type 'PortfolioSummary'.\n\n    \u001b[7m111\u001b[0m       expect(updatedPortfolio?.totalValue).toBeLessThan(10000); // Should be less due to fees\n    \u001b[7m   \u001b[0m \u001b[91m                               ~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/EndToEndWorkflowValidation.test.ts\u001b[0m:\u001b[93m112\u001b[0m:\u001b[93m32\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'totalValue' does not exist on type 'PortfolioSummary'.\n\n    \u001b[7m112\u001b[0m       expect(updatedPortfolio?.totalValue).toBeGreaterThan(9900); // But not too much less\n    \u001b[7m   \u001b[0m \u001b[91m                               ~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/EndToEndWorkflowValidation.test.ts\u001b[0m:\u001b[93m115\u001b[0m:\u001b[93m52\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'getTradeHistory' does not exist on type 'VirtualPortfolioManager'.\n\n    \u001b[7m115\u001b[0m       const tradeHistory = virtualPortfolioManager.getTradeHistory(testUserId);\n    \u001b[7m   \u001b[0m \u001b[91m                                                   ~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/EndToEndWorkflowValidation.test.ts\u001b[0m:\u001b[93m162\u001b[0m:\u001b[93m54\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type '{ userId: string; symbol: string; side: any; type: \"market\"; quantity: number; price: number; }' is not assignable to parameter of type 'OrderRequest'.\n      Property 'exchange' is missing in type '{ userId: string; symbol: string; side: any; type: \"market\"; quantity: number; price: number; }' but required in type 'OrderRequest'.\n\n    \u001b[7m162\u001b[0m         tradeSimulationEngine.simulateOrderExecution(invalidTradeRequest)\n    \u001b[7m   \u001b[0m \u001b[91m                                                     ~~~~~~~~~~~~~~~~~~~\u001b[0m\n\n      \u001b[96msrc/types/trading.ts\u001b[0m:\u001b[93m64\u001b[0m:\u001b[93m3\u001b[0m\n        \u001b[7m64\u001b[0m   exchange: string;\n        \u001b[7m  \u001b[0m \u001b[96m  ~~~~~~~~\u001b[0m\n        'exchange' is declared here.\n    \u001b[96msrc/__tests__/integration/EndToEndWorkflowValidation.test.ts\u001b[0m:\u001b[93m192\u001b[0m:\u001b[93m63\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2554: \u001b[0mExpected 1 arguments, but got 2.\n\n    \u001b[7m192\u001b[0m       virtualPortfolioManager.initializeUserPortfolio(userId, 10000);\n    \u001b[7m   \u001b[0m \u001b[91m                                                              ~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/EndToEndWorkflowValidation.test.ts\u001b[0m:\u001b[93m209\u001b[0m:\u001b[93m75\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type '{ type: \"market\"; symbol: string; side: \"buy\"; quantity: number; price: number; userId: string; } | { type: \"market\"; symbol: string; side: \"sell\"; quantity: number; price: number; userId: string; }' is not assignable to parameter of type 'OrderRequest'.\n      Property 'exchange' is missing in type '{ type: \"market\"; symbol: string; side: \"buy\"; quantity: number; price: number; userId: string; }' but required in type 'OrderRequest'.\n\n    \u001b[7m209\u001b[0m         const result = await tradeSimulationEngine.simulateOrderExecution(tradeRequest);\n    \u001b[7m   \u001b[0m \u001b[91m                                                                          ~~~~~~~~~~~~\u001b[0m\n\n      \u001b[96msrc/types/trading.ts\u001b[0m:\u001b[93m64\u001b[0m:\u001b[93m3\u001b[0m\n        \u001b[7m64\u001b[0m   exchange: string;\n        \u001b[7m  \u001b[0m \u001b[96m  ~~~~~~~~\u001b[0m\n        'exchange' is declared here.\n    \u001b[96msrc/__tests__/integration/EndToEndWorkflowValidation.test.ts\u001b[0m:\u001b[93m212\u001b[0m:\u001b[93m33\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'updatePortfolioWithTrade' does not exist on type 'VirtualPortfolioManager'.\n\n    \u001b[7m212\u001b[0m         virtualPortfolioManager.updatePortfolioWithTrade(userId, {\n    \u001b[7m   \u001b[0m \u001b[91m                                ~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/EndToEndWorkflowValidation.test.ts\u001b[0m:\u001b[93m215\u001b[0m:\u001b[93m28\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'executedQuantity' does not exist on type 'SimulatedOrderResponse'.\n\n    \u001b[7m215\u001b[0m           quantity: result.executedQuantity,\n    \u001b[7m   \u001b[0m \u001b[91m                           ~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/EndToEndWorkflowValidation.test.ts\u001b[0m:\u001b[93m216\u001b[0m:\u001b[93m25\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'executedPrice' does not exist on type 'SimulatedOrderResponse'.\n\n    \u001b[7m216\u001b[0m           price: result.executedPrice,\n    \u001b[7m   \u001b[0m \u001b[91m                        ~~~~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/EndToEndWorkflowValidation.test.ts\u001b[0m:\u001b[93m217\u001b[0m:\u001b[93m23\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'fees' does not exist on type 'SimulatedOrderResponse'.\n\n    \u001b[7m217\u001b[0m           fee: result.fees,\n    \u001b[7m   \u001b[0m \u001b[91m                      ~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/EndToEndWorkflowValidation.test.ts\u001b[0m:\u001b[93m221\u001b[0m:\u001b[93m29\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'fees' does not exist on type 'SimulatedOrderResponse'.\n\n    \u001b[7m221\u001b[0m         totalFees += result.fees;\n    \u001b[7m   \u001b[0m \u001b[91m                            ~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/EndToEndWorkflowValidation.test.ts\u001b[0m:\u001b[93m226\u001b[0m:\u001b[93m52\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'getTradeHistory' does not exist on type 'VirtualPortfolioManager'.\n\n    \u001b[7m226\u001b[0m       const tradeHistory = virtualPortfolioManager.getTradeHistory(userId);\n    \u001b[7m   \u001b[0m \u001b[91m                                                   ~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/EndToEndWorkflowValidation.test.ts\u001b[0m:\u001b[93m229\u001b[0m:\u001b[93m25\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'totalValue' does not exist on type 'PortfolioSummary'.\n\n    \u001b[7m229\u001b[0m       expect(portfolio?.totalValue).toBeLessThan(10000); // Should account for fees\n    \u001b[7m   \u001b[0m \u001b[91m                        ~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/EndToEndWorkflowValidation.test.ts\u001b[0m:\u001b[93m230\u001b[0m:\u001b[93m25\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'totalValue' does not exist on type 'PortfolioSummary'.\n\n    \u001b[7m230\u001b[0m       expect(portfolio?.totalValue).toBeGreaterThan(9000); // But not too much less\n    \u001b[7m   \u001b[0m \u001b[91m                        ~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/EndToEndWorkflowValidation.test.ts\u001b[0m:\u001b[93m315\u001b[0m:\u001b[93m63\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2554: \u001b[0mExpected 1 arguments, but got 2.\n\n    \u001b[7m315\u001b[0m       virtualPortfolioManager.initializeUserPortfolio(userId, 50000);\n    \u001b[7m   \u001b[0m \u001b[91m                                                              ~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/EndToEndWorkflowValidation.test.ts\u001b[0m:\u001b[93m329\u001b[0m:\u001b[93m56\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type '{ userId: string; symbol: string; side: \"buy\"; type: \"market\"; quantity: number; price: number; }' is not assignable to parameter of type 'OrderRequest'.\n      Property 'exchange' is missing in type '{ userId: string; symbol: string; side: \"buy\"; type: \"market\"; quantity: number; price: number; }' but required in type 'OrderRequest'.\n\n    \u001b[7m329\u001b[0m           tradeSimulationEngine.simulateOrderExecution(trade)\n    \u001b[7m   \u001b[0m \u001b[91m                                                       ~~~~~\u001b[0m\n\n      \u001b[96msrc/types/trading.ts\u001b[0m:\u001b[93m64\u001b[0m:\u001b[93m3\u001b[0m\n        \u001b[7m64\u001b[0m   exchange: string;\n        \u001b[7m  \u001b[0m \u001b[96m  ~~~~~~~~\u001b[0m\n        'exchange' is declared here.\n    \u001b[96msrc/__tests__/integration/EndToEndWorkflowValidation.test.ts\u001b[0m:\u001b[93m342\u001b[0m:\u001b[93m33\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'updatePortfolioWithTrade' does not exist on type 'VirtualPortfolioManager'.\n\n    \u001b[7m342\u001b[0m         virtualPortfolioManager.updatePortfolioWithTrade(userId, {\n    \u001b[7m   \u001b[0m \u001b[91m                                ~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/EndToEndWorkflowValidation.test.ts\u001b[0m:\u001b[93m345\u001b[0m:\u001b[93m28\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'executedQuantity' does not exist on type 'SimulatedOrderResponse'.\n\n    \u001b[7m345\u001b[0m           quantity: result.executedQuantity,\n    \u001b[7m   \u001b[0m \u001b[91m                           ~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/EndToEndWorkflowValidation.test.ts\u001b[0m:\u001b[93m346\u001b[0m:\u001b[93m25\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'executedPrice' does not exist on type 'SimulatedOrderResponse'.\n\n    \u001b[7m346\u001b[0m           price: result.executedPrice,\n    \u001b[7m   \u001b[0m \u001b[91m                        ~~~~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/EndToEndWorkflowValidation.test.ts\u001b[0m:\u001b[93m347\u001b[0m:\u001b[93m23\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'fees' does not exist on type 'SimulatedOrderResponse'.\n\n    \u001b[7m347\u001b[0m           fee: result.fees,\n    \u001b[7m   \u001b[0m \u001b[91m                      ~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/EndToEndWorkflowValidation.test.ts\u001b[0m:\u001b[93m354\u001b[0m:\u001b[93m52\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'getTradeHistory' does not exist on type 'VirtualPortfolioManager'.\n\n    \u001b[7m354\u001b[0m       const tradeHistory = virtualPortfolioManager.getTradeHistory(userId);\n    \u001b[7m   \u001b[0m \u001b[91m                                                   ~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/EndToEndWorkflowValidation.test.ts\u001b[0m:\u001b[93m357\u001b[0m:\u001b[93m25\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'totalValue' does not exist on type 'PortfolioSummary'.\n\n    \u001b[7m357\u001b[0m       expect(portfolio?.totalValue).toBeLessThan(50000);\n    \u001b[7m   \u001b[0m \u001b[91m                        ~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/EndToEndWorkflowValidation.test.ts\u001b[0m:\u001b[93m358\u001b[0m:\u001b[93m25\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'totalValue' does not exist on type 'PortfolioSummary'.\n\n    \u001b[7m358\u001b[0m       expect(portfolio?.totalValue).toBeGreaterThan(49000);\n    \u001b[7m   \u001b[0m \u001b[91m                        ~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/EndToEndWorkflowValidation.test.ts\u001b[0m:\u001b[93m444\u001b[0m:\u001b[93m73\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type '{ userId: string; symbol: string; side: \"buy\"; type: \"market\"; quantity: number; price: number; }' is not assignable to parameter of type 'OrderRequest'.\n      Property 'exchange' is missing in type '{ userId: string; symbol: string; side: \"buy\"; type: \"market\"; quantity: number; price: number; }' but required in type 'OrderRequest'.\n\n    \u001b[7m444\u001b[0m       const result = await tradeSimulationEngine.simulateOrderExecution(tradeRequest);\n    \u001b[7m   \u001b[0m \u001b[91m                                                                        ~~~~~~~~~~~~\u001b[0m\n\n      \u001b[96msrc/types/trading.ts\u001b[0m:\u001b[93m64\u001b[0m:\u001b[93m3\u001b[0m\n        \u001b[7m64\u001b[0m   exchange: string;\n        \u001b[7m  \u001b[0m \u001b[96m  ~~~~~~~~\u001b[0m\n        'exchange' is declared here.\n    \u001b[96msrc/__tests__/integration/EndToEndWorkflowValidation.test.ts\u001b[0m:\u001b[93m487\u001b[0m:\u001b[93m63\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2554: \u001b[0mExpected 1 arguments, but got 2.\n\n    \u001b[7m487\u001b[0m       virtualPortfolioManager.initializeUserPortfolio(userId, 10000);\n    \u001b[7m   \u001b[0m \u001b[91m                                                              ~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/EndToEndWorkflowValidation.test.ts\u001b[0m:\u001b[93m507\u001b[0m:\u001b[93m75\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2345: \u001b[0mArgument of type '{ userId: string; symbol: string; side: \"buy\" | \"sell\"; type: \"market\"; quantity: number; price: number; }' is not assignable to parameter of type 'OrderRequest'.\n      Property 'exchange' is missing in type '{ userId: string; symbol: string; side: \"buy\" | \"sell\"; type: \"market\"; quantity: number; price: number; }' but required in type 'OrderRequest'.\n\n    \u001b[7m507\u001b[0m         const result = await tradeSimulationEngine.simulateOrderExecution(tradeRequest);\n    \u001b[7m   \u001b[0m \u001b[91m                                                                          ~~~~~~~~~~~~\u001b[0m\n\n      \u001b[96msrc/types/trading.ts\u001b[0m:\u001b[93m64\u001b[0m:\u001b[93m3\u001b[0m\n        \u001b[7m64\u001b[0m   exchange: string;\n        \u001b[7m  \u001b[0m \u001b[96m  ~~~~~~~~\u001b[0m\n        'exchange' is declared here.\n    \u001b[96msrc/__tests__/integration/EndToEndWorkflowValidation.test.ts\u001b[0m:\u001b[93m510\u001b[0m:\u001b[93m33\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'updatePortfolioWithTrade' does not exist on type 'VirtualPortfolioManager'.\n\n    \u001b[7m510\u001b[0m         virtualPortfolioManager.updatePortfolioWithTrade(userId, {\n    \u001b[7m   \u001b[0m \u001b[91m                                ~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/EndToEndWorkflowValidation.test.ts\u001b[0m:\u001b[93m513\u001b[0m:\u001b[93m28\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'executedQuantity' does not exist on type 'SimulatedOrderResponse'.\n\n    \u001b[7m513\u001b[0m           quantity: result.executedQuantity,\n    \u001b[7m   \u001b[0m \u001b[91m                           ~~~~~~~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/EndToEndWorkflowValidation.test.ts\u001b[0m:\u001b[93m514\u001b[0m:\u001b[93m25\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'executedPrice' does not exist on type 'SimulatedOrderResponse'.\n\n    \u001b[7m514\u001b[0m           price: result.executedPrice,\n    \u001b[7m   \u001b[0m \u001b[91m                        ~~~~~~~~~~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/EndToEndWorkflowValidation.test.ts\u001b[0m:\u001b[93m515\u001b[0m:\u001b[93m23\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'fees' does not exist on type 'SimulatedOrderResponse'.\n\n    \u001b[7m515\u001b[0m           fee: result.fees,\n    \u001b[7m   \u001b[0m \u001b[91m                      ~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/EndToEndWorkflowValidation.test.ts\u001b[0m:\u001b[93m521\u001b[0m:\u001b[93m61\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'fees' does not exist on type 'SimulatedOrderResponse'.\n\n    \u001b[7m521\u001b[0m           expectedValue -= (op.quantity * op.price + result.fees);\n    \u001b[7m   \u001b[0m \u001b[91m                                                            ~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/EndToEndWorkflowValidation.test.ts\u001b[0m:\u001b[93m523\u001b[0m:\u001b[93m61\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'fees' does not exist on type 'SimulatedOrderResponse'.\n\n    \u001b[7m523\u001b[0m           expectedValue += (op.quantity * op.price - result.fees);\n    \u001b[7m   \u001b[0m \u001b[91m                                                            ~~~~\u001b[0m\n    \u001b[96msrc/__tests__/integration/EndToEndWorkflowValidation.test.ts\u001b[0m:\u001b[93m529\u001b[0m:\u001b[93m34\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2339: \u001b[0mProperty 'totalValue' does not exist on type 'PortfolioSummary'.\n\n    \u001b[7m529\u001b[0m       expect(Math.abs(portfolio!.totalValue - expectedValue)).toBeLessThan(10); // Allow small rounding differences\n    \u001b[7m   \u001b[0m \u001b[91m                                 ~~~~~~~~~~\u001b[0m\n\nTest Suites: 1 failed, 1 total\nTests:       0 total\nSnapshots:   0 total\nTime:        16.394 s\nRan all test suites matching /EndToEndWorkflowValidation.test.ts/i.\n"
      ]
    },
    {
      "testFile": "ComprehensiveIntegration.test.ts",
      "status": "failed",
      "duration": 0,
      "errors": [
        "Command failed: npx jest --testPathPattern=\"ComprehensiveIntegration.test.ts\" --verbose --detectOpenHandles --forceExit\nFAIL src/__tests__/integration/ComprehensiveIntegration.test.ts\n  ‚óè Test suite failed to run\n\n    \u001b[96msrc/__tests__/integration/ComprehensiveIntegration.test.ts\u001b[0m:\u001b[93m226\u001b[0m:\u001b[93m66\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2353: \u001b[0mObject literal may only specify known properties, and 'uniqueUsers' does not exist in type '{ total: number; authenticated: number; anonymous: number; healthy: number; unhealthy: number; stale: number; }'.\n\n    \u001b[7m226\u001b[0m         connections: { total: 0, authenticated: 0, anonymous: 0, uniqueUsers: 0 },\n    \u001b[7m   \u001b[0m \u001b[91m                                                                 ~~~~~~~~~~~\u001b[0m\n\n      \u001b[96msrc/services/WebSocketServer.ts\u001b[0m:\u001b[93m1030\u001b[0m:\u001b[93m7\u001b[0m\n        \u001b[7m1030\u001b[0m       connections: {\n        \u001b[7m    \u001b[0m \u001b[96m      ~~~~~~~~~~~~~~\u001b[0m\n        \u001b[7m1031\u001b[0m         total: this.connectionPool.activeConnections.size,\n        \u001b[7m    \u001b[0m \u001b[96m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\n        \u001b[7m ...\u001b[0m \n        \u001b[7m1036\u001b[0m         stale: stabilityMetrics.staleConnections\n        \u001b[7m    \u001b[0m \u001b[96m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\n        \u001b[7m1037\u001b[0m       },\n        \u001b[7m    \u001b[0m \u001b[96m~~~~~~~\u001b[0m\n        The expected type comes from property 'connections' which is declared here on type '{ server: { isShuttingDown: boolean; uptime: number; maxConnections: number; }; connections: { total: number; authenticated: number; anonymous: number; healthy: number; unhealthy: number; stale: number; }; ... 4 more ...; connections_detail: { ...; }[]; }'\n    \u001b[96msrc/__tests__/integration/ComprehensiveIntegration.test.ts\u001b[0m:\u001b[93m228\u001b[0m:\u001b[93m9\u001b[0m - \u001b[91merror\u001b[0m\u001b[90m TS2741: \u001b[0mProperty 'errorRate' is missing in type '{ totalMessagesReceived: number; totalMessagesSent: number; averageConnectionTime: number; rateLimiters: number; }' but required in type '{ totalMessagesReceived: number; totalMessagesSent: number; averageConnectionTime: number; rateLimiters: number; errorRate: number; }'.\n\n    \u001b[7m228\u001b[0m         performance: { totalMessagesReceived: 0, totalMessagesSent: 0, averageConnectionTime: 0, rateLimiters: 0 },\n    \u001b[7m   \u001b[0m \u001b[91m        ~~~~~~~~~~~\u001b[0m\n\n      \u001b[96msrc/services/WebSocketServer.ts\u001b[0m:\u001b[93m1051\u001b[0m:\u001b[93m9\u001b[0m\n        \u001b[7m1051\u001b[0m         errorRate: stabilityMetrics.errorRate\n        \u001b[7m    \u001b[0m \u001b[96m        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\n        'errorRate' is declared here.\n      \u001b[96msrc/services/WebSocketServer.ts\u001b[0m:\u001b[93m1045\u001b[0m:\u001b[93m7\u001b[0m\n        \u001b[7m1045\u001b[0m       performance: {\n        \u001b[7m    \u001b[0m \u001b[96m      ~~~~~~~~~~~~~~\u001b[0m\n        \u001b[7m1046\u001b[0m         totalMessagesReceived: connectionMetrics.reduce((sum, c) => sum + c.messagesReceived, 0),\n        \u001b[7m    \u001b[0m \u001b[96m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\n        \u001b[7m ...\u001b[0m \n        \u001b[7m1051\u001b[0m         errorRate: stabilityMetrics.errorRate\n        \u001b[7m    \u001b[0m \u001b[96m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\u001b[0m\n        \u001b[7m1052\u001b[0m       },\n        \u001b[7m    \u001b[0m \u001b[96m~~~~~~~\u001b[0m\n        The expected type comes from property 'performance' which is declared here on type '{ server: { isShuttingDown: boolean; uptime: number; maxConnections: number; }; connections: { total: number; authenticated: number; anonymous: number; healthy: number; unhealthy: number; stale: number; }; ... 4 more ...; connections_detail: { ...; }[]; }'\n\nTest Suites: 1 failed, 1 total\nTests:       0 total\nSnapshots:   0 total\nTime:        16.53 s\nRan all test suites matching /ComprehensiveIntegration.test.ts/i.\n"
      ]
    }
  ],
  "requirements": {
    "8.1": {
      "description": "Integration tests pass without critical failures",
      "status": "FAILED",
      "details": "All integration tests executed and validated"
    },
    "8.2": {
      "description": "End-to-end workflows complete successfully",
      "status": "FAILED",
      "details": "Complete trading workflows tested from start to finish"
    }
  },
  "recommendations": [
    "Review and fix failing integration tests before deployment",
    "Check error logs for specific failure reasons"
  ]
}